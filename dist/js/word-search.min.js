!function(f){"use strict";const n="wordSearch";var g={instructions:"Find the following words:",sizeX:0,sizeY:0,matrix:[],riddles:[],css:{instructionPanelClass:"instruction-panel",instructionsClass:"instructions",searchWordsClass:"search-words",gamePanelContainerClass:"game-panel-container",gamePanelClass:"game-panel",gamePanelRowClass:"game-panel-row",gamePanelCellClass:"game-panel-cell",gameCellValueClass:"game-panel-cell-value"},callbacks:{buildQuestion:function(s){return s.name}}};function t(s,e){const n=s instanceof jQuery?s:f(s);n.html("");var r={settings:null,completed:!1,userAnswer:[],correctAnswer:[]};r.settings=f.extend(!0,{},g,e);for(var t=0;t<r.settings.sizeY;t++){for(var a=[],o=[],c=0;c<r.settings.sizeX;c++)a.push(0),o.push(0);r.userAnswer.push(a),r.correctAnswer.push(o)}var s=f("<div class='"+r.settings.css.instructionPanelClass+"'><div class='"+r.settings.css.instructionsClass+"'>"+r.settings.instructions+"</div></div>"),i=f("<ol class='"+r.settings.css.searchWordsClass+"'></ol>").appendTo(s),e=(f.each(r.settings.riddles,function(s,e){i.append(f("<li>"+r.settings.callbacks.buildQuestion(e)+"</li>")),f.each(e.answer,function(s,e){r.correctAnswer[e.y][e.x]=1})}),n.append(s),f("<div class='"+r.settings.css.gamePanelContainerClass+"'></div>")),l=f("<div class='"+r.settings.css.gamePanelClass+"'></div>").appendTo(e),d=f("<div class='"+r.settings.css.gamePanelRowClass+"'></div>"),u=f("<span class='"+r.settings.css.gamePanelCellClass+"'></span>");return f.each(r.settings.matrix,function(t,s){var a=d.clone();l.append(a),f.each(s,function(s,e){var n=u.clone();n.data("x",s).data("y",t).data("checked",!1).appendTo(a),f("<span class='"+r.settings.css.gameCellValueClass+"'></span>").append(e).appendTo(n).on("mousedown mouseenter",function(s){var e;r.completed||"mousedown"!=s.type&&("mouseenter"!=s.type||1!=s.buttons&&3!=s.buttons)||((e=f(this).closest("."+r.settings.css.gamePanelCellClass)).data("checked",!e.data("checked")),e.data("checked")?(r.userAnswer[e.data("y")][e.data("x")]=1,e.css({"background-color":"#000000",color:"#ffffff"})):"mouseenter"!=s.type&&(r.userAnswer[e.data("y")][e.data("x")]=0,e.css({"background-color":"#ffffff",color:"#000000"})))})})}),n.append(e),{isSolved:function(){for(var s=0;s<r.settings.sizeX;s++)for(var e=0;e<r.settings.sizeY;e++)if(r.userAnswer[e][s]!=r.correctAnswer[e][s])return!1;return!0},showResult:function(){for(var n=0;n<r.settings.sizeX;n++)for(var t=0;t<r.settings.sizeY;t++){var s=l.find("."+r.settings.css.gamePanelCellClass).filter(function(s,e){return f(e).data("x")==n&&f(e).data("y")==t});r.userAnswer[t][n]!=r.correctAnswer[t][n]?"1"==r.correctAnswer[t][n]?s.css({"background-color":"#0000ff",color:"#ffffff"}):s.css({"background-color":"#ff0000",color:"#ffffff"}):1==r.correctAnswer[t][n]&&s.css({"background-color":"#008800",color:"#ffffff"})}},hideResult:function(){for(var n=0;n<r.settings.sizeX;n++)for(var t=0;t<r.settings.sizeY;t++)l.find("."+r.settings.css.gamePanelCellClass).filter(function(s,e){return f(e).data("x")==n&&f(e).data("y")==t}).css({"background-color":"",color:""})},markCompleted:function(){r.completed=!0},isMarkedCompleted:function(){return r.completed}}}t.prototype={isSolved:function(){isSolved()},showResult:function(){showResult()},hideResult:function(){hideResult()},markCompleted:function(){markCompleted()},isMarkedCompleted:function(){return isMarkedCompleted()}},f.fn[n]=function(e){return this.each(function(){var s;f.data(this,n)||(s=new t(this,e),f.data(this,n,s))})}}(jQuery,(window,document));